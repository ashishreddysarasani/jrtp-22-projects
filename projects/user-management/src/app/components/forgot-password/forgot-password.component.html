<form class="" (submit)="GenerateAndValidateOTPOnClick(frmRegister.value)" #frmRegister="ngForm">
    <h1>Forgot Password</h1>
    <div class="mb-3">
        <label for="Email" class="form-label"><b>Email or mobile number</b></label>
        <div>
            <input type="email" placeholder="Enter Email for OTP" (blur)="isvalidemail(email.value)" [disabled]="otpgenerated" required minlength="4" #email="ngModel" ngModel class="form-control" name="email">
            <div class="container-fluid">
                <div *ngIf="isemailexist; then thenBlock else elseBlock"></div>
                <ng-template #thenBlock>
                    <span class="text-success">Your Entered {{emailExistStatus}}</span>
                </ng-template>
                <ng-template #elseBlock>
                    <span class="text-danger">{{emailExistStatus}}</span>
                </ng-template>
            </div>
        </div>
        <dd class="text-danger" *ngIf="(email.invalid && frmRegister.submitted)||(email.touched && email.invalid)">
            <span *ngIf="email.errors?.['required']">Email Required</span>
            <span *ngIf="email.errors?.['minlength']">Name too short..</span>
        </dd>
        <div class="mb-3">
            <button [disabled]="frmRegister.invalid || otpgenerated" class="btn btn-warning w-100">Generate OTP</button>
        </div>
    </div>
    
    <div class="mb-3">
        <p>By Generating OTP, otp will be sent to your registered email.</p>
        
    </div>
    <div class="mb-3" *ngIf="otpgenerated">
        <h1>OTP Password</h1>
        <label for="otp" class="form-label"><b>Enter 8 digit OTP </b></label>
        <div>
            <input type="text" placeholder="Enter Your OTP" required minlength="4" #otp="ngModel" ngModel class="form-control" name="otp">
        </div>
        <dd class="text-danger" *ngIf="(otp.invalid && frmRegister.submitted)||(otp.touched && otp.invalid)">
            <span *ngIf="otp.errors?.['required']">OTP Required</span>
            <span *ngIf="otp.errors?.['minlength']">OTP too short..</span>
        </dd>
        <div class="mb-3">
            <button [disabled]="frmRegister.invalid" class="btn btn-warning w-100">Validate OTP</button>
        </div>

        <div class="container-fluid">
            <div *ngIf="isotpcorrect; then thenBlock else elseBlock"></div>
            <ng-template #thenBlock>
                <span class="text-success">{{otpSuccessStatus}}</span>
            </ng-template>
            <ng-template #elseBlock>
                <span class="text-danger">{{otpSuccessStatus}}</span>
            </ng-template>
        </div>
        
    </div>
    

    
    <div>
        <details>
            <summary><a href="#">Need Help ?</a></summary>
            <ul>
                <li><a href="https://classroom.google.com/c/NDk2ODk0MzE3Njcy/m/NDk3MDIwNjE1MzAy/details">Change Password</a></li>
                <li><a href="#">Forgot Password</a></li>
            </ul>
        </details>
    </div>
    <dt>email</dt>
    <dd>{{frmRegister.value.email}}</dd>
    <dt>after click email</dt>
    <dd>{{forgotpwd.email}}</dd>
</form>

